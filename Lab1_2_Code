#include<iostream>
#include<string>
#include<fstream>
#include<vector>
#include<sstream>

using namespace std;

string keyword[32]={
"auto","break","case","char","const","continue","default","double",
"do","else","enum","extern","float","for","goto","if","int","long",
"register","return","short","signed","sizeof","static","struct",
"switch","typedef","union","unsigned","void","volatile","while"
};

int main(){
	ifstream fin;
	fin.open("lab1.cpp");
	string line;
	string arr[500];
	int totalnum=0;
	while(getline(fin,line))				//Changes the contents of a file to a string
    {
        int i=0,j=0;
        string a;
        int n=0;
        int flag[500];
        for(i=0;i<int(line.length());i++)
        {
            if(line[i]>='a'&&line[i]<='z')	//Prevents the effect of Spaces and symbols
            {
                for(j=i;line[j]>='a'&&line[j]<='z';j++);
                a=line.substr(i,j-i);
                arr[n]=a;                
                n++;
                if(arr[n-1]=="else"&&line[j]==' ')
                    flag[n-1]=1;
                for(int k=0;k<32;k++)
                {
                    if(a==keyword[k])
                    {
                        totalnum++;
                        break;
                    }
                }
                i=j;
            }
            else
            {
                j=i;
            } 
        }
    }
    cout<<"total num: "<<totalnum<<endl;
}
